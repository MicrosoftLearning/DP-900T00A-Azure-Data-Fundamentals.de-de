---
ms.openlocfilehash: aa7ddb2f2ce7709064cf5157f709fc1eff52cff7
ms.sourcegitcommit: e739004291428ce83f14b9d49f1e9dfaa3762dde
ms.translationtype: HT
ms.contentlocale: de-DE
ms.lasthandoff: 02/05/2022
ms.locfileid: "138051640"
---
## <a name="follow-redirects"></a>Follow Redirects

Drop-In-Ersetzung für die Module `http` und `https` von Node, die automatisch Umleitungen verfolgt.

[![npm-Version](https://img.shields.io/npm/v/follow-redirects.svg)](https://www.npmjs.com/package/follow-redirects)
[![Buildstatus](https://github.com/follow-redirects/follow-redirects/workflows/CI/badge.svg)](https://github.com/follow-redirects/follow-redirects/actions)
[![Abdeckungsstatus](https://coveralls.io/repos/follow-redirects/follow-redirects/badge.svg?branch=master)](https://coveralls.io/r/follow-redirects/follow-redirects?branch=master)
[![npm-Downloads](https://img.shields.io/npm/dm/follow-redirects.svg)](https://www.npmjs.com/package/follow-redirects)
[![Sponsor in GitHub](https://img.shields.io/static/v1?label=Sponsor&message=%F0%9F%92%96&logo=GitHub)](https://github.com/sponsors/RubenVerborgh)

`follow-redirects` stellt die Methoden [request](https://nodejs.org/api/http.html#http_http_request_options_callback) und [get](https://nodejs.org/api/http.html#http_http_get_options_callback) bereit, deren Verhalten dem von nativen [HTTP](https://nodejs.org/api/http.html#http_http_request_options_callback)- und [HTTPS](https://nodejs.org/api/https.html#https_https_request_options_callback)-Modulen entspricht, mit Ausnahme der Tatsache, dass sie Umleitungen nahtlos verfolgen.

```javascript
const { http, https } = require('follow-redirects');

http.get('http://bit.ly/900913', response => {
  response.on('data', chunk => {
    console.log(chunk);
  });
}).on('error', err => {
  console.error(err);
});
```

Sie können die endgültige umgeleitete URL über die `responseUrl`-Eigenschaft in der Antwort (`response`) untersuchen.
Wenn keine Umleitung erfolgt ist, ist `responseUrl` die ursprüngliche Anforderungs-URL.

```javascript
const request = https.request({
  host: 'bitly.com',
  path: '/UHfDGO',
}, response => {
  console.log(response.responseUrl);
  // 'http://duckduckgo.com/robots.txt'
});
request.end();
```

## <a name="options"></a>Optionen
### <a name="global-options"></a>Globale Optionen
Globale Optionen werden direkt im `follow-redirects`-Modul festgelegt:

```javascript
const followRedirects = require('follow-redirects');
followRedirects.maxRedirects = 10;
followRedirects.maxBodyLength = 20 * 1024 * 1024; // 20 MB
```

Die folgenden globalen Optionen werden unterstützt:

- `maxRedirects` (Standard: `21`) – Legt die maximale Anzahl zulässiger Umleitungen fest; bei Überschreitung wird ein Fehler ausgegeben.

- `maxBodyLength` (Standard: 10 MB) – Legt die maximale Größe des Anforderungstexts fest; bei Überschreitung wird ein Fehler ausgegeben.

### <a name="per-request-options"></a>Optionen pro Anforderung
Optionen pro Anforderung werden durch Übergabe eines `options`-Objekts festgelegt:

```javascript
const url = require('url');
const { http, https } = require('follow-redirects');

const options = url.parse('http://bit.ly/900913');
options.maxRedirects = 10;
options.beforeRedirect = (options, { headers }) => {
  // Use this to adjust the request options upon redirecting,
  // to inspect the latest response headers,
  // or to cancel the request by throwing an error
  if (options.hostname === "example.com") {
    options.auth = "user:password";
  }
};
http.request(options);
```

Zusätzlich zu den [HTTP](https://nodejs.org/api/http.html#http_http_request_options_callback)- und [HTTPS](https://nodejs.org/api/https.html#https_https_request_options_callback)-Standardoptionen werden die folgenden Optionen pro Anforderung unterstützt:
- `followRedirects` (Standard: `true`) – Gibt an, ob Umleitungen verfolgt werden sollen.

- `maxRedirects` (Standard: `21`) – Legt die maximale Anzahl zulässiger Umleitungen fest; bei Überschreitung wird ein Fehler ausgegeben.

- `maxBodyLength` (Standard: 10 MB) – Legt die maximale Größe des Anforderungstexts fest; bei Überschreitung wird ein Fehler ausgegeben.

- `beforeRedirect` (Standard: `undefined`) – `options` der Anforderung optional für Umleitungen ändern oder Anforderung durch Auslösen eines Fehlers beenden.

- `agents` (Standard: `undefined`) – Legt die `agent`-Option pro Protokoll fest, da HTTP und HTTPS unterschiedliche Agents verwenden. Beispielwert: `{ http: new http.Agent(), https: new https.Agent() }`

- `trackRedirects` (Standard: `false`) – Gibt an, ob die umgeleiteten Antwortdetails im `redirects`-Array im Antwortobjekt gespeichert werden sollen.


### <a name="advanced-usage"></a>Erweiterte Verwendung
Standardmäßig verwendet `follow-redirects` Node.js-Standardimplementierungen von [`http`](https://nodejs.org/api/http.html) und [`https`](https://nodejs.org/api/https.html).
Um Features wie Zwischenspeicherung und/oder Nachverfolgung von Zwischenanforderungen zu aktivieren, sollten Sie stattdessen benutzerdefinierte Protokollimplementierungen durch `follow-redirects` umschließen:

```javascript
const { http, https } = require('follow-redirects').wrap({
  http: require('your-custom-http'),
  https: require('your-custom-https'),
});
```

Solche benutzerdefinierten Protokolle benötigen nur eine Implementierung der `request`-Methode.

## <a name="browser-usage"></a>Browsernutzung

Aufgrund der Funktionsweise des Browsers führen die Browserentsprechungen `http` und `https` standardmäßig Umleitungen aus.

Indem `follow-redirects` folgendermaßen angefordert wird:
```javascript
const http = require('follow-redirects/http');
const https = require('follow-redirects/https');
```
können Sie Webpack und Freunden auf einfache Weise mitteilen, dass `follow-redirect` durch die integrierten Versionen ersetzt werden soll:

```json
{
  "follow-redirects/http"  : "http",
  "follow-redirects/https" : "https"
}
```

## <a name="contributing"></a>Mitwirken

Pull-Anforderungen sind immer willkommen. Bitte [melden Sie ein Problem](https://github.com/follow-redirects/follow-redirects/issues), in dem Sie Ihren Vorschlag beschreiben, bevor Sie Ihre wertvolle Zeit investieren. Zusätzliche Features und Fehlerkorrekturen sollten von Tests begleitet werden. Sie können die Testsuite lokal mit einem einfachen `npm test`-Befehl ausführen.

## <a name="debug-logging"></a>Debugprotokollierung

`follow-redirects` verwendet das hervorragende [debug](https://www.npmjs.com/package/debug) für die Protokollierung. Um die Protokollierung zu aktivieren, legen Sie die Umgebungsvariable `DEBUG=follow-redirects` für die Debugausgabe aus nur diesem Modul fest. Beim Ausführen der Testsuite ist es manchmal vorteilhaft, `DEBUG=*` so festzulegen, dass auch die Ausgabe vom Expressserver angezeigt wird.

## <a name="authors"></a>Authors

- [Ruben Verborgh](https://ruben.verborgh.org/)
- [Olivier Lalonde](mailto:olalonde@gmail.com)
- [James Talmage](mailto:james@talmage.io)

## <a name="license"></a>Lizenz

[MIT-Lizenz](https://github.com/follow-redirects/follow-redirects/blob/master/LICENSE)
