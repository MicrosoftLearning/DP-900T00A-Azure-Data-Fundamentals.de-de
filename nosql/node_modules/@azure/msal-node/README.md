---
ms.openlocfilehash: 05bea0332c8376e66d4aed62eab42a50c744536d
ms.sourcegitcommit: e739004291428ce83f14b9d49f1e9dfaa3762dde
ms.translationtype: HT
ms.contentlocale: de-DE
ms.lasthandoff: 02/05/2022
ms.locfileid: "138051672"
---
# <a name="microsoft-authentication-library-for-node-msal-node"></a>Microsoft Authentication Library für Node (msal-node)

[![npm-Version](https://img.shields.io/npm/v/@azure/msal-node.svg?style=flat)](https://www.npmjs.com/package/@azure/msal-node/)[![npm-Version](https://img.shields.io/npm/dm/@azure/msal-node.svg)](https://nodei.co/npm/@azure/msal-node/)[![Abdeckungsstatus](https://coveralls.io/repos/github/AzureAD/microsoft-authentication-library-for-js/badge.svg?branch=dev)](https://coveralls.io/github/AzureAD/microsoft-authentication-library-for-js?branch=dev)

| <a href="https://docs.microsoft.com/azure/active-directory/develop/guidedsetups/active-directory-javascriptspa" target="_blank">Erste Schritte</a> | <a href="https://aka.ms/aaddevv2" target="_blank">AAD-Dokumentation</a> | <a href="https://azuread.github.io/microsoft-authentication-library-for-js/ref/modules/_azure_msal_node.html" target="_blank">Bibliotheksverweis</a> |
| --- | --- | --- |

Zurzeit ist `msal-node` in der Entwicklung. Verfolgen Sie [hier](https://github.com/AzureAD/microsoft-authentication-library-for-js/projects/4) den Projektstatus. Diese Dokumentation ist ebenfalls in Bearbeitung und wird sich ändern, sobald wir unsere `alpha`-Patches veröffentlichen. **Wir raten davon ab, dies in einer Produktionsumgebung zu verwenden**.

1. [Info](#about)
2. [Häufig gestellte Fragen](#faq)
3. [Releases](#releases)
4. [Voraussetzungen](#prerequisites)
5. [Installation](#installation)
6. [Verwendung](#usage)
7. [Beispiele](#samples)
8. [Buildbibliothek](#build-and-test)
9. [Meldung von Sicherheitsproblemen](#security-reporting)
10. [Lizenz](#license)
11. [Verhaltensregeln](#we-value-and-adhere-to-the-microsoft-open-source-code-of-conduct)

## <a name="about"></a>Info

Die MSAL für Node ermöglicht Anwendungen die Authentifizierung von Benutzern über Geschäfts- Schul- oder Unikonten für [Azure AD](https://docs.microsoft.com/en-us/azure/active-directory/develop/v2-overview) (AAD), persönliche Microsoft-Konten (MSA) und Identitätsanbieter sozialer Netzwerke wie Facebook, Google, LinkedIn, Microsoft-Konten usw. über den Dienst [Azure AD B2C](https://docs.microsoft.com/en-us/azure/active-directory-b2c/active-directory-b2c-overview#identity-providers). Sie ermöglicht Ihrer App auch, Token für den Zugriff auf [Microsoft-Clouddienste](https://www.microsoft.com/enterprise) wie [Microsoft Graph](https://graph.microsoft.io) zu erhalten.


### <a name="oauth20-grant-types-supported"></a>Unterstützte OAuth 2.0-Gewährungstypen:

Die aktuelle Alphaversion unterstützt die folgenden Möglichkeiten zum Beziehen von Token:

#### <a name="public-client"></a>Öffentlicher Client:
- [Autorisierungscodegewährung](https://oauth.net/2/grant-types/authorization-code/) mit [PKCE](https://oauth.net/2/pkce/)
- [Gerätecodegewährung](https://oauth.net/2/grant-types/device-code/)
- [Aktualisierungstokengewährung](https://oauth.net/2/grant-types/refresh-token/)
- [Automatischer Flow](https://docs.microsoft.com/en-us/azure/active-directory/develop/msal-acquire-cache-tokens#acquiring-tokens-silently-from-the-cache)

#### <a name="confidential-client"></a>Vertraulicher Client:
- [Autorisierungscodegewährung](https://oauth.net/2/grant-types/authorization-code/) mit Clientanmeldeinformationen
- [Aktualisierungstokengewährung](https://oauth.net/2/grant-types/refresh-token/)
- [Automatischer Flow](https://docs.microsoft.com/en-us/azure/active-directory/develop/msal-acquire-cache-tokens#acquiring-tokens-silently-from-the-cache)
- [Gewährung von Clientanmeldeinformationen](https://oauth.net/2/grant-types/client-credentials/)
- [„Im Auftrag von“-Ablauf](https://docs.microsoft.com/en-us/azure/active-directory/develop/v2-oauth2-on-behalf-of-flow)

**[In Kürze]** Für die Zukunft planen wir die Unterstützung von:
- [Flow für die integrierte Windows-Authentifizierung](https://docs.microsoft.com/en-us/azure/active-directory/develop/msal-authentication-flows#integrated-windows-authentication)
- [Flow mit Benutzername und Kennwort](https://docs.microsoft.com/en-us/azure/active-directory/develop/msal-authentication-flows#usernamepassword)

Weitere Einzelheiten zu den verschiedenen Gewährungstypen, die von den Microsoft-Authentifizierungsbibliotheken im Allgemeinen unterstützt werden, finden Sie [hier](https://docs.microsoft.com/en-us/azure/active-directory/develop/msal-authentication-flows).

### <a name="scenarios-supported"></a>Unterstützte Szenarien:

Es folgen von dieser Bibliothek unterstützten Szenarien:
- Desktop-App, die Web-APIs aufruft
- Web-App, die Web-APIs aufruft
- Web-APIs, die Web-APIs aufrufen
- Daemon-Apps

Weitere Einzelheiten zu den Szenarien und den Authentifizierungsflows, die den einzelnen Szenarien zugeordnet sind, finden Sie [hier](https://docs.microsoft.com/en-us/azure/active-directory/develop/authentication-flows-app-scenarios).

## <a name="faq"></a>Häufig gestellte Fragen

Klicken Sie [hier](https://github.com/AzureAD/microsoft-authentication-library-for-js/blob/dev/lib/msal-node/docs/faq.md).

## <a name="prerequisites"></a>Voraussetzungen

Ehe Sie `@azure/msal-node` verwenden, müssen Sie Ihre App im Azure-Portal registrieren:

- [App-Registrierung](https://docs.microsoft.com/en-us/graph/auth-register-app-v2)

## <a name="installation"></a>Installation

### <a name="via-npm"></a>Über NPM:
```javascript
npm install @azure/msal-node
```
##  <a name="usage"></a>Verbrauch

### <a name="msal-basics"></a>MSAL-Grundlagen
- [Verstehen des Unterschieds zwischen öffentlichen und vertraulichen Clients](https://docs.microsoft.com/en-us/azure/active-directory/develop/msal-client-applications)
- [Initialisieren einer öffentlichen Clientanwendung](https://github.com/AzureAD/microsoft-authentication-library-for-js/blob/dev/lib/msal-node/docs/initialize-public-client-application.md)
- [Initialisieren einer vertraulichen Clientanwendung](https://github.com/AzureAD/microsoft-authentication-library-for-js/blob/dev/lib/msal-node/docs/initialize-confidential-client-application.md)
- [Configuration](https://github.com/AzureAD/microsoft-authentication-library-for-js/blob/dev/lib/msal-node/docs/configuration.md)
- [Anforderung](https://github.com/AzureAD/microsoft-authentication-library-for-js/blob/dev/lib/msal-common/docs/request.md)
- [Antwort](https://github.com/AzureAD/microsoft-authentication-library-for-js/blob/dev/lib/msal-common/docs/response.md)

## <a name="samples"></a>Beispiele
Das Repository enthält mehrere [Beispiele](https://github.com/AzureAD/microsoft-authentication-library-for-js/tree/dev/samples/msal-node-samples), die die MSAL für Node verwenden, um Token zu beziehen. Diese Beispiele werden derzeit für manuelle Tests verwendet und sind nicht als Referenz für bewährte Methoden gedacht. Gehen Sie mit Bedacht vor, und kopieren Sie diesen Code nicht blindlings in Produktionsanwendungen.

- [auth-code](https://github.com/AzureAD/microsoft-authentication-library-for-js/tree/dev/samples/msal-node-samples/standalone-samples/auth-code): Express-App mit OAuth 2.0-Autorisierungscodeflow.
- [device-code](https://github.com/AzureAD/microsoft-authentication-library-for-js/tree/dev/samples/msal-node-samples/standalone-samples/device-code): Befehlszeilen-App mit OAuth 2.0-Gerätecodeflow.
- [refresh-token](https://github.com/AzureAD/microsoft-authentication-library-for-js/tree/dev/samples/msal-node-samples/standalone-samples/refresh-token): Befehlszeilen-App mit OAuth 2.0-Aktualisierungsflow.
- [silent-flow](https://github.com/AzureAD/microsoft-authentication-library-for-js/tree/dev/samples/msal-node-samples/standalone-samples/silent-flow): Express-App mit OAuth 2.0-Autorisierungscodeflow, um ein Token zu beziehen und im Tokencache zu speichern, und automatischer Flow, um Token im Tokencache zu verwenden.
- [client-credentials](https://github.com/AzureAD/microsoft-authentication-library-for-js/tree/dev/samples/msal-node-samples/standalone-samples/client-credentials): Daemon-App, die OAuth 2.0-Clientanmeldeinformationen verwendet, um ein Token zu beziehen.
- [on-behalf-of](https://github.com/AzureAD/microsoft-authentication-library-for-js/tree/dev/samples/msal-node-samples/standalone-samples/on-behalf-of): Eine Webanwendung verwendet den OAuth 2.0-Authentifizierungscodeflow, um ein Token für eine Web-API zu beziehen. Die Web-API validiert das Token und ruft Microsoft Graph im Namen des Benutzers auf, der sich bei der Webanwendung authentifiziert hat.
- [msal-node-extensions](https://github.com/AzureAD/microsoft-authentication-library-for-js/tree/dev/extensions/samples/msal-node-extensions): Verwendet den Autorisierungscodeflow, um Token zu beziehen und die Bibliothek [msal-extensions](https://github.com/AzureAD/microsoft-authentication-library-for-js/tree/dev/extensions/), um den MSAL-In-Memory-Tokencache auf den Datenträger zu schreiben.

## <a name="build-and-test"></a>Kompilieren und testen

- Wenn Sie [lerna](https://github.com/lerna/lerna) nicht installiert haben, führen Sie `npm install -g lerna` aus.
- Führen Sie `lerna bootstrap` an einer beliebigen Stelle innerhalb von `microsoft-authentication-library-for-js.git` aus.
- Navigieren Sie zu `microsoft-authentication-library-for-js/lib/msal-common`, und führen Sie `npm run build` aus.
- Navigieren Sie zu `microsoft-authentication-library-for-js/lib/msal-node`, und führen Sie `npm run build` aus.

```javascript
// to link msal-node and msal-common packages
lerna bootstrap

// Change to the msal-node package directory
cd lib/msal-common/

// To run build only for node package
npm run build

// Change to the msal-node package directory
cd lib/msal-node/

// To run build only for node package
npm run build
```

### <a name="local-development"></a>Lokale Entwicklung
Es folgt eine Liste mit Befehlen, die Sie wahrscheinlich nützlich finden werden:

#### `npm run build:modules:watch`
Führt das Projekt im Entwicklungs-/Überwachungsmodus aus. Ihr Projekt wird nach Änderungen neu erstellt. TSDX bietet Ihnen eine praktische Protokollierung. Fehlermeldungen werden ansprechend ausgegeben und zu Kompatibilitätszwecken auf der Registerkarte „Probleme“ von VS Code formatiert. Wenn Sie Änderungen vornehmen, wird die Bibliothek neu erstellt.

#### `npm run build`
Bündelt das Paket im Ordner `dist`.
Das Paket ist optimiert und mithilfe von Rollup in mehreren Formaten (CommonJS, UMD und ES Module) gebündelt.

#### `lerna bootstrap`
Wenn Sie das Projekt im Entwicklungs-/Überwachungsmodus ausführen oder in `msal-common` Änderungen vorgenommen haben und diese im gesamten Projekt widerspiegeln müssen, führen Sie `lerna bootstrap` aus, um alle Symbole zu verknüpfen. Beachten Sie, dass `npm install` die Verknüpfung des gesamten Codes aufhebt. Es wird daher empfohlen, `lerna bootstrap` nach der Installation auszuführen.

#### `npm run lint`
Führt ESLint mit Prettier aus.

#### <a name="npm-test-npm-run-testcoverage-npm-run-testwatch"></a>`npm test`, `npm run test:coverage`, `npm run test:watch`
Führt den Testwatcher (Jest) in einem interaktiven Modus aus.
Führt standardmäßig Tests für Dateien aus, die seit dem letzten Commit geändert wurden.
Generieren Sie Code Coverage, indem Sie das Flag „--coverage“ hinzufügen. Kein zusätzliches Setup erforderlich. Jest kann Code Coverage-Informationen aus ganzen Projekten sammeln, einschließlich ungetesteter Dateien.

## <a name="security-reporting"></a>Meldung von Sicherheitsproblemen

Wenn Sie ein Sicherheitsproblem in unseren Bibliotheken oder Diensten feststellen, melden Sie es [secure@microsoft.com](mailto:secure@microsoft.com) mit so vielen Details wie möglich. Ihr Beitrag kann im Rahmen des [Microsoft Bounty](http://aka.ms/bugbounty)-Programms für eine Belohnung in Frage kommen. Melden Sie Sicherheitsprobleme nicht bei GitHub Issues oder einer anderen öffentlichen Website. Wir werden Sie in Kürze kontaktieren, sobald wir die Informationen erhalten haben. Wir empfehlen Ihnen, den Erhalt von Benachrichtigungen zu Sicherheitsvorfällen einzurichten. Rufen Sie dazu [diese Seite](https://technet.microsoft.com/security/dd252948) auf, und abonnieren Sie Sicherheitsempfehlungen.

## <a name="license"></a>Lizenz

Copyright (c) Microsoft Corporation.  Alle Rechte vorbehalten. Lizenziert unter der MIT-Lizenz.

## <a name="we-value-and-adhere-to-the-microsoft-open-source-code-of-conduct"></a>Wir schätzen und befolgen die Microsoft-Verhaltensregeln für Open Source

Für dieses Projekt gelten die Microsoft-Verhaltensregeln für Open Source ([Microsoft Open Source Code of Conduct](https://opensource.microsoft.com/codeofconduct/)). Weitere Informationen finden Sie unter [Code of Conduct FAQ (FAQ zum Verhaltenskodex)](https://opensource.microsoft.com/codeofconduct/faq/). Alternativ können Sie sich mit weiteren Fragen und Kommentaren an [opencode@microsoft.com](mailto:opencode@microsoft.com) wenden.

