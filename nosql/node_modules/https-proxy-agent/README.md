---
ms.openlocfilehash: bd96d4c9278b37a2a3626abd3bd91dd20a15e2e1
ms.sourcegitcommit: e739004291428ce83f14b9d49f1e9dfaa3762dde
ms.translationtype: HT
ms.contentlocale: de-DE
ms.lasthandoff: 02/05/2022
ms.locfileid: "138051904"
---
<a name="https-proxy-agent"></a>https-proxy-agent
================
### <a name="an-https-proxy-httpagent-implementation-for-https"></a>Eine HTTP(S)-Proxyimplementierung von `http.Agent` für HTTPS
[![Buildstatus](https://github.com/TooTallNate/node-https-proxy-agent/workflows/Node%20CI/badge.svg)](https://github.com/TooTallNate/node-https-proxy-agent/actions?workflow=Node+CI)

Dieses Modul stellt eine `http.Agent`-Implementierung bereit, die eine Verbindung mit einem angegebenen HTTP- oder HTTPS-Proxyserver herstellt und mit dem integrierten `https`-Modul verwendet werden kann.

Konkret verbindet sich diese `Agent`-Implementierung mit einem zwischengeschalteten Proxyserver und ruft die [HTTP-Methode CONNECT][CONNECT] auf, die den Proxy anweist, eine direkte TCP-Verbindung mit dem Zielserver herzustellen.

Da dieser Agent die HTTP-Methode CONNECT implementiert, funktioniert er auch mit anderen Protokollen, die diese Methode zum Herstellen von Verbindungen über Proxys (z. B. WebSockets) verwenden.
Weitere Informationen finden Sie im Abschnitt „Beispiele“.


<a name="installation"></a>Installation
------------

Installation mit `npm`:

``` bash
$ npm install https-proxy-agent
```


<a name="examples"></a>Beispiele
--------

#### <a name="https-module-example"></a>`https`-Beispielmodul

``` js
var url = require('url');
var https = require('https');
var HttpsProxyAgent = require('https-proxy-agent');

// HTTP/HTTPS proxy to connect to
var proxy = process.env.http_proxy || 'http://168.63.76.32:3128';
console.log('using proxy server %j', proxy);

// HTTPS endpoint for the proxy to connect to
var endpoint = process.argv[2] || 'https://graph.facebook.com/tootallnate';
console.log('attempting to GET %j', endpoint);
var options = url.parse(endpoint);

// create an instance of the `HttpsProxyAgent` class with the proxy server information
var agent = new HttpsProxyAgent(proxy);
options.agent = agent;

https.get(options, function (res) {
  console.log('"response" event!', res.headers);
  res.pipe(process.stdout);
});
```

#### <a name="ws-websocket-connection-example"></a>`ws`-WebSocket-Verbindungsbeispiel

``` js
var url = require('url');
var WebSocket = require('ws');
var HttpsProxyAgent = require('https-proxy-agent');

// HTTP/HTTPS proxy to connect to
var proxy = process.env.http_proxy || 'http://168.63.76.32:3128';
console.log('using proxy server %j', proxy);

// WebSocket endpoint for the proxy to connect to
var endpoint = process.argv[2] || 'ws://echo.websocket.org';
var parsed = url.parse(endpoint);
console.log('attempting to connect to WebSocket %j', endpoint);

// create an instance of the `HttpsProxyAgent` class with the proxy server information
var options = url.parse(proxy);

var agent = new HttpsProxyAgent(options);

// finally, initiate the WebSocket connection
var socket = new WebSocket(endpoint, { agent: agent });

socket.on('open', function () {
  console.log('"open" event!');
  socket.send('hello world');
});

socket.on('message', function (data, flags) {
  console.log('"message" event! %j %j', data, flags);
  socket.close();
});
```

<a name="api"></a>API
---

### <a name="new-httpsproxyagentobject-options"></a>neuer HttpsProxyAgent (Objektoptionen)

Die `HttpsProxyAgent`-Klasse implementiert eine `http.Agent`-Unterklasse, die sich mit dem angegebenen HTTP(s)-Proxyserver verbindet, um HTTPS- und/oder WebSocket-Anforderungen stellvertretend zu bearbeiten. Dies wird mithilfe der [HTTP-Methode][CONNECT] `CONNECT`erreicht.

Das Argument `options` kann entweder ein Zeichenfolge-URI des zu verwendenden Proxyservers oder ein „options“-Objekt mit spezifischeren Eigenschaften sein:

  * `host`: Zeichenfolge: Proxyhost, mit dem eine Verbindung hergestellt werden soll (`hostname` kann auch verwendet werden). Erforderlich.
  * `port`: Zahl: Proxyport, mit dem eine Verbindung hergestellt werden soll. Erforderlich.
  * `protocol`: Zeichenfolge. Falls `https:`, verwenden Sie TLS, um sich mit dem Proxy zu verbinden.
  * `headers`: Objekt: Zusätzliche HTTP-Header, die mit der HTTP-Methode CONNECT gesendet werden.
  * Alle anderen angegebenen Optionen werden an die `net.connect()`/`tls.connect()`-Funktionen übergeben.


<a name="license"></a>Lizenz
-------

(Die MIT-Lizenz)

Copyright (c) 2013 Nathan Rajlich &lt;nathan@tootallnate.net&gt;

Hiermit wird jeder Person, die eine Kopie dieser Software und der zugehörigen Dokumentationsdateien (die „Software“) erhält, kostenlos die Erlaubnis erteilt, die Software uneingeschränkt zu verwenden, einschließlich, aber nicht beschränkt auf die Rechte zur Nutzung, Vervielfältigung, Änderung, Zusammenführung, Veröffentlichung, Verteilung, Unterlizenzierung und/oder zum Verkauf von Kopien der Software, und Personen, denen die Software zur Verfügung gestellt wird, dies unter den folgenden Bedingungen zu gestatten:

Der obige Urheberrechtshinweis und dieser Berechtigungshinweis sind in allen Kopien oder wesentlichen Teilen der Software enthalten.

DIE SOFTWARE WIRD „WIE BESEHEN“ OHNE JEGLICHE GEWÄHRLEISTUNG, WEDER AUSDRÜCKLICH NOCH KONKLUDENT, ZUR VERFÜGUNG GESTELLT, EINSCHLIESSLICH, ABER NICHT BESCHRÄNKT AUF GEWÄHRLEISTUNGEN DER HANDELSÜBLICHKEIT, EIGNUNG FÜR EINEN BESTIMMTEN ZWECK UND NICHTVERLETZUNG VON RECHTEN DRITTER.
IN KEINEM FALL SIND DIE AUTOREN ODER URHEBERRECHTSINHABER HAFTBAR FÜR ANSPRÜCHE, SCHÄDEN ODER ANDERE HAFTUNGEN, SEI ES AUS EINER VERTRAGSHANDLUNG, UNERLAUBTER HANDLUNG ODER ANDERWEITIG, DIE SICH AUS ODER IN VERBINDUNG MIT DER SOFTWARE ODER DER NUTZUNG ANDERER VERFAHREN IN DER SOFTWARE ERGEBEN.

[CONNECT]: http://en.wikipedia.org/wiki/HTTP_tunnel#HTTP_CONNECT_Tunneling
