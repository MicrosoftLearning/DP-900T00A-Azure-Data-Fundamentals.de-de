
---
<p align="center">
  <strong>
    <a href="https://open-telemetry.github.io/opentelemetry-js-api">API-Dokumentation<a/> &nbsp;&nbsp;&bull;&nbsp;&nbsp; <a href="https://github.com/open-telemetry/opentelemetry-js/discussions">Kontakt aufnehmen (GitHub-Diskussionen)<a/>
  </strong>
</p>

<p align="center">
  <a href="https://github.com/open-telemetry/opentelemetry-js-api/releases">
    <img alt="GitHub release (latest by date including pre-releases)" src="https://img.shields.io/github/v/release/open-telemetry/opentelemetry-js-api?include_prereleases&style=for-the-badge">
  </a>
  <a href="https://codecov.io/gh/open-telemetry/opentelemetry-js-api/branch/main/">
    <img alt="Codecov Status" src="https://img.shields.io/codecov/c/github/open-telemetry/opentelemetry-js-api?style=for-the-badge">
  </a>
  <a href="https://github.com/open-telemetry/opentelemetry-js-api/blob/main/LICENSE">
    <img alt="license" src="https://img.shields.io/badge/license-Apache_2.0-green.svg?style=for-the-badge">
  </a>
  <br/>
  <a href="https://github.com/open-telemetry/opentelemetry-js-api/actions/workflows/docs.yaml">
    <img alt="Build Status" src="https://github.com/open-telemetry/opentelemetry-js-api/actions/workflows/test.yaml/badge.svg?branch=main">
  </a>
  <a href="https://github.com/open-telemetry/opentelemetry-js-api/actions/workflows/test.yaml?query=branch%3Amain">
    <img alt="Build Status" src="https://github.com/open-telemetry/opentelemetry-js-api/actions/workflows/docs.yaml/badge.svg">
  </a>
</p>

---

# <a name="opentelemetry-api-for-javascript"></a>OpenTelemetry-API für JavaScript

[![Veröffentlichte NPM-Version][npm-img]][npm-url]
[![dependencies][dependencies-image]][dependencies-url]
[![devDependencies][devDependencies-image]][devDependencies-url]

Dieses Paket bietet alles, was für die Interaktion mit der OpenTelemetry-API erforderlich ist, einschließlich aller TypeScript-Schnittstellen, Enumerationen und No-Op-Implementierungen. Es ist für die Verwendung sowohl auf dem Server als auch im Browser bestimmt.

Die Methoden in diesem Paket führen standardmäßig keine Vorgänge aus. Dies bedeutet, dass sie von einer Bibliothek oder Endbenutzeranwendung sicher aufgerufen werden können, ganz gleich, ob ein SDK registriert ist oder nicht. Um Telemetriedaten zu generieren und zu exportieren, benötigen Sie auch ein SDK wie das [OpenTelemetry JS SDK][opentelemetry-js].

## <a name="tracing-quick-start"></a>Schnellstart: Ablaufverfolgung

### <a name="you-will-need"></a>Sie benötigen Folgendes

- Eine Anwendung, die Sie instrumentieren möchten
- [OpenTelemetry JS SDK][opentelemetry-js]
- Node.js >=8.5.0 (14+ bevorzugt) oder einen mit ECMAScript 5+ kompatiblen Browser

**Hinweis:** ECMAScript 5+-Kompatibilität gilt nur für dieses Paket. Bitte lesen Sie die Dokumentation für das SDK, das Sie verwenden, um die ECMAScript-Mindestversion zu ermitteln.

**Hinweis für Bibliotheksautoren:** Nur Ihre Endbenutzer benötigen ein OpenTelemetry-SDK. Wenn Sie OpenTelemetry in Ihrer Bibliothek unterstützen möchten, müssen Sie nur die OpenTelemetry-API verwenden. Weitere Informationen finden Sie in der [Dokumentation zur Ablaufverfolgung][docs-tracing].

### <a name="install-dependencies"></a>Installieren von Abhängigkeiten

```sh
npm install @opentelemetry/api @opentelemetry/tracing
```

### <a name="trace-your-application"></a>Nachverfolgen Ihrer Anwendung

Um mit der Ablaufverfolgung zu beginnen, müssen Sie zunächst ein SDK registrieren. Das SDK, das Sie verwenden, stellt möglicherweise eine Komfortmethode bereit, die die Registrierungsmethoden für Sie aufruft. Wenn Sie sie jedoch direkt aufrufen möchten, finden Sie in dieser Dokumentation weitere Informationen: [SDK-Registrierungsmethoden][docs-sdk-registration].

Nachdem Sie ein SDK registriert haben, können Sie Spans starten und beenden. Ein einfaches Beispiel für die einfache SDK-Registrierung und Ablaufverfolgung eines einfachen Vorgangs finden Sie weiter unten. Das Beispiel sollte einmal pro Sekunde Spans in die Konsole exportieren. Weitere Informationen finden Sie in der [Dokumentation zur Ablaufverfolgung][docs-tracing].

```javascript
const { trace }  = require("@opentelemetry/api");
const { BasicTracerProvider, ConsoleSpanExporter, SimpleSpanProcessor }  = require("@opentelemetry/tracing");

// Create and register an SDK
const provider = new BasicTracerProvider();
provider.addSpanProcessor(new SimpleSpanProcessor(new ConsoleSpanExporter()));
trace.setGlobalTracerProvider(provider);

// Acquire a tracer from the global tracer provider which will be used to trace the application
const name = 'my-application-name';
const version = '0.1.0';
const tracer = trace.getTracer(name, version);

// Trace your application by creating spans
async function operation() {
  const span = tracer.startSpan("do operation");

  // mock some work by sleeping 1 second
  await new Promise((resolve, reject) => {
    setTimeout(resolve, 1000);
  })

  span.end();
}

async function main() {
  while (true) {
    await operation();
  }
}

main();
```

## <a name="version-compatibility"></a>Versionskompatibilität

Da das npm-Installationsprogramms und der Auflösungsalgorithmus des Knotenmoduls möglicherweise zwei oder mehr Kopien eines bestimmten Pakets innerhalb derselben `node_modules`-Struktur zulassen könnte, nutzt die OpenTelemetry-API eine Variable für das `global`-Objekt, um die globale API zu speichern. Wenn eine API-Methode im API-Paket aufgerufen wird, überprüft sie, ob diese `global`-API vorhanden ist, und nur wenn es sich um eine kompatible API-Version handelt, werden Aufrufe an sie weitergeleitet. Dies bedeutet, wenn ein Paket eine Abhängigkeit von einer OpenTelemetry-API-Version aufweist, die nicht mit der vom Endbenutzer verwendeten API kompatibel ist, erhält das Paket eine No-Op-Implementierung der API.

## <a name="upgrade-guidelines"></a>Upgraderichtlinien

### <a name="0210-to-100"></a>0.21.0 bis 1.0.0

Keine Breaking Changes

### <a name="0200-to-0210"></a>0.20.0 bis 0.21.0

- [#78](https://github.com/open-telemetry/opentelemetry-js-api/issues/78) `api.context.bind`-Argumente wurden umgekehrt, `context` ist jetzt ein erforderliches Argument.
- [#46](https://github.com/open-telemetry/opentelemetry-js-api/issues/46) Noop-Klassen und Singletons werden nicht mehr exportiert. Um einen Noop-Span zu erstellen, empfiehlt es sich, `api.trace.wrapSpanContext` mit `INVALID_SPAN_CONTEXT`anstelle von `NOOP_TRACER` zu verwenden.

### <a name="100-rc3-to-0200"></a>1.0.0-rc.3 bis 0.20.0

- `TimedEvent` wurde entfernt, das nicht Teil der Spezifikation war
- `HttpBaggage` wurde in `HttpBaggagePropagator` umbenannt
- [#45](https://github.com/open-telemetry/opentelemetry-js-api/pull/45) `Span#context` wurde in `Span#spanContext` umbenannt
- [#47](https://github.com/open-telemetry/opentelemetry-js-api/pull/47) `getSpan`/`setSpan`/`getSpanContext`/`setSpanContext` wurde in Namespace `trace` verschoben
- [#55](https://github.com/open-telemetry/opentelemetry-js-api/pull/55) `getBaggage`/`setBaggage`/`createBaggage` wurde in Namespace `propagation` verschoben

## <a name="useful-links"></a>Nützliche Links

- Weitere Informationen zu OpenTelemetry finden Sie unter <https://opentelemetry.io/>.
- Weitere Informationen zu OpenTelemetry-JavaScript finden Sie unter <https://github.com/open-telemetry/opentelemetry-js>.
- Um Hilfe zu diesem Projekt zu erhalten oder Feedback zu geben, nehmen Sie an [GitHub-Diskussionen][discussions-url] teil.

## <a name="license"></a>Lizenz

Apache 2.0 – Weitere Informationen finden Sie unter [LIZENZ][license-url].

[opentelemetry-js]: https://github.com/open-telemetry/opentelemetry-js

[discussions-url]: https://github.com/open-telemetry/opentelemetry-js/discussions
[license-url]: https://github.com/open-telemetry/opentelemetry-js-api/blob/main/LICENSE
[license-image]: https://img.shields.io/badge/license-Apache_2.0-green.svg?style=flat
[dependencies-image]: https://status.david-dm.org/gh/open-telemetry/opentelemetry-js-api.svg
[dependencies-url]: https://david-dm.org/open-telemetry/opentelemetry-js-api
[devDependencies-image]: https://status.david-dm.org/gh/open-telemetry/opentelemetry-js-api.svg?type=dev
[devDependencies-url]: https://david-dm.org/open-telemetry/opentelemetry-js-api?type=dev
[npm-url]: https://www.npmjs.com/package/@opentelemetry/api
[npm-img]: https://badge.fury.io/js/%40opentelemetry%2Fapi.svg
[docs-tracing]: https://github.com/open-telemetry/opentelemetry-js-api/blob/main/docs/tracing.md
[docs-sdk-registration]: https://github.com/open-telemetry/opentelemetry-js-api/blob/main/docs/sdk-registration.md
