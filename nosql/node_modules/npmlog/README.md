---
ms.openlocfilehash: f445a828ea5ae5cba850b910d938f10a783a7ed8
ms.sourcegitcommit: e739004291428ce83f14b9d49f1e9dfaa3762dde
ms.translationtype: HT
ms.contentlocale: de-DE
ms.lasthandoff: 02/05/2022
ms.locfileid: "138050968"
---
# <a name="npmlog"></a>npmlog

Das von npm verwendete Protokollierungshilfsprogramm.

Dieser Logger ist sehr einfach.  Es übernimmt die Protokollierung für npm.  Er unterstützt benutzerdefinierte Ebenen und farbige Ausgaben.

Protokolle werden standardmäßig in stderr geschrieben.  Wenn Sie Protokollnachrichten an andere Ausgaben als Datenströme senden möchten, können Sie das `log.stream`-Element ändern, oder Sie können einfach auf die Ereignisse achten, die ausgegeben werden, und damit tun, was immer Sie wollen.

# <a name="installation"></a>Installation

```console
npm install npmlog --save
```

# <a name="basic-usage"></a>Grundlegende Verwendung

```javascript
var log = require('npmlog')

// additional stuff ---------------------------+
// message ----------+                         |
// prefix ----+      |                         |
// level -+   |      |                         |
//        v   v      v                         v
    log.info('fyi', 'I have a kitty cat: %j', myKittyCat)
```

## <a name="loglevel"></a>log.level

* {String}

Die Ebene, auf der Protokolle angezeigt werden sollen.  Alle Protokolle auf dieser oder einer höheren Ebene werden angezeigt.  Die spezielle Ebene `silent` verhindert, dass überhaupt etwas angezeigt wird.

## <a name="logrecord"></a>log.record

* {Array}

Ein Array aller Protokollnachrichten, die eingegeben wurden.

## <a name="logmaxrecordsize"></a>log.maxRecordSize

* {Number}

Die maximale Anzahl von Datensätzen, die gespeichert werden sollen.  Wenn log.record mehr als 10 % über diesem Wert liegt, wird es auf 90 % dieses Werts gekürzt.

Der Grund für das 10-%-Fenster besteht darin, dass die Größe eines großen Arrays auf jedem Protokolleintrag nicht angepasst werden muss.

## <a name="logprefixstyle"></a>log.prefixStyle

* {Object}

Ein Formatvorlagenobjekt, mit dem angegeben wird, wie Präfixe formatiert werden.  (Siehe unten)

## <a name="logheadingstyle"></a>log.headingStyle

* {Object}

Ein Formatvorlagenobjekt, mit dem angegeben wird, wie die Überschrift formatiert ist.  (Siehe unten)

## <a name="logheading"></a>log.heading

* {String} Standard: ""

Wenn dies festgelegt ist, wird eine Überschrift an den Anfang jeder Zeile gesetzt.

## <a name="logstream"></a>log.stream

* {Stream} Standard: `process.stderr`

Der Datenstrom, in den die Ausgabe geschrieben wird.

## <a name="logenablecolor"></a>log.enableColor()

Die obligatorischen unabhängig vom Ausgabestream für alle Nachrichten zu verwendenden Farben.

## <a name="logdisablecolor"></a>log.disableColor()

Zum Deaktivieren der Farben in allen Nachrichten.

## <a name="logenableprogress"></a>log.enableProgress()

Zum Aktivieren der Anzeige des Protokollaktivitäts-Drehfelds und der Statusleiste

## <a name="logdisableprogress"></a>log.disableProgress()

Zum Deaktivieren der Anzeige einer Statusleiste

## <a name="logenableunicode"></a>log.enableUnicode()

Zum Erzwingen des Unicode-Designs, das für die Statusleiste verwendet werden soll.

## <a name="logdisableunicode"></a>log.disableUnicode()

Zum Deaktivieren der Verwendung von Unicode in der Statusleiste.

## <a name="logsetgaugetemplatetemplate"></a>log.setGaugeTemplate(template)

Zum Festlegen einer Vorlage für die Ausgabe der Statusleiste. Ausführliche Informationen finden Sie in der [Prüfdokumentation].

[Prüfdokumentation]: https://npmjs.com/package/gauge

## <a name="logsetgaugethemesetthemes"></a>log.setGaugeThemeset(themes)

Zum Auswählen eines Designsets, um Designs aus der Statusleiste auszuwählen. Ausführliche Informationen finden Sie in der [Prüfdokumentation].

## <a name="logpause"></a>log.pause()

Zum Beenden des Sendens von Nachrichten an den Datenstrom, jedoch nicht zum Ablegen.

## <a name="logresume"></a>log.resume()

Zum Senden aller gepufferten Nachrichten, die während der Pause geschrieben wurden.

## <a name="logloglevel-prefix-message-"></a>log.log(Ebene, Präfix, Nachricht, ...)

* `level` {String} Die Ebene, auf der die Nachricht gesendet werden soll
* `prefix` {String} Ein Zeichenfolgenpräfix.  Zum Überspringen auf "" festlegen.
* `message...` Argumente zu `util.format`

Zum Ausgeben einer Protokollnachricht auf der angegebenen Ebene.

## <a name="loglevel"></a>log\[level](Präfix, Nachricht, ...)

Beispiel:

* log.silly(Präfix, Nachricht, ...)
* log.verbose(Präfix, Nachricht, ...)
* log.info(Präfix, Nachricht, ...)
* log.http(Präfix, Nachricht, ...)
* log.warn(Präfix, Nachricht, ...)
* log.error(Präfix, Nachricht, ...)

z. B. `log.log(level, prefix, message, ...)`.  Auf diese Weise erhält jede Ebene eine Kurzform, sodass Sie `log.info(prefix, message)` tun können.

## <a name="logaddlevellevel-n-style-disp"></a>log.addLevel(level, n, style, disp)

* `level` {String} Kennzeichen für Ebene
* `n` {Number} Die numerische Ebene
* `style` {Object} Objekt mit fg, bg, inverse usw.
* `disp` {String} Optionaler Ersatz für `level` in der Ausgabe.

Zum Festlegen einer neuen Ebene mit einer Kurzformfunktion usw.

Beachten Sie, dass das Festlegen der Ebene, wenn die Zahl `Infinity` lautet, dazu führt, dass alle Protokollnachrichten unterdrückt werden.  Wenn die Zahl `-Infinity` lautet, besteht die einzige Möglichkeit, sie anzuzeigen darin, alle Protokollnachrichten zu aktivieren.

## <a name="lognewitemname-todo-weight"></a>log.newItem(Name, Todo, Gewicht)

* `name` {String} Optional; Statuselementname.
* `todo` {Number} Optional; Gesamtmenge der zu erledigenden Arbeit. Standard 0.
* `weight` {Number} Optional; das Gewicht dieses Elements im Verhältnis zu anderen. Standard 1.

Hierdurch wird dem Status-Tracker ein neuer `are-we-there-yet`-Element-Tracker hinzugefügt. Das zurückgegebene Objekt weist die `log[level]`-Methoden auf, ist ansonsten aber ein `are-we-there-yet``Tracker`-Objekt.

## <a name="lognewstreamname-todo-weight"></a>log.newStream(Name, Todo, Gewicht)

Hierdurch wird dem Status-Tracker ein neuer `are-we-there-yet`-Datenstrom-Tracker hinzugefügt. Das zurückgegebene Objekt weist die `log[level]`-Methoden auf, ist ansonsten aber ein `are-we-there-yet``TrackerStream`-Objekt.

## <a name="lognewgroupname-weight"></a>log.newGroup(Name, Gewicht)

Hierdurch wird dem Status-Tracker eine neue `are-we-there-yet`-Tracker-Gruppe hinzugefügt. Das zurückgegebene Objekt weist die `log[level]`-Methoden auf, ist ansonsten aber ein `are-we-there-yet``TrackerGroup`-Objekt.

# <a name="events"></a>Events

Ereignisse werden alle mit dem Nachrichtenobjekt ausgegeben.

* `log` Für alle Nachrichten ausgegeben
* `log.<level>` Für alle Nachrichten mit der `<level>` Ebene ausgegeben.
* `<prefix>` Nachrichten mit Präfixen geben auch ihr Präfix als Ereignis aus.

# <a name="style-objects"></a>Formatvorlagenobjekte

Formatvorlagenobjekte können die folgenden Felder aufweisen:

* `fg` {String} Farbe für den Vordergrundtext
* `bg` {String} Farbe für den Hintergrund
* `bold`, `inverse`, `underline` {Boolean} Festlegen der zugeordneten Eigenschaft
* `bell` {Boolean} Macht ein Geräusch (Dies kann ziemlich störend sein.)

# <a name="message-objects"></a>Nachrichtenobjekte

Jedes Protokollereignis wird mit einem Nachrichtenobjekt ausgegeben, und die `log.record`-Liste enthält alle, die erstellt wurden.  Sie enthalten die folgenden Felder:

* `id` {Number}
* `level` {String}
* `prefix` {String}
* `message` {String} Ergebnis von `util.format()`
* `messageRaw` {Array} Argumente zu `util.format()`

# <a name="blocking-ttys"></a>Blockieren von TTYs

Wir verwenden [`set-blocking`](https://npmjs.com/package/set-blocking), um Stderr- und Stdout-Blockierungen festzulegen, wenn es TTYs sind, die den setBlocking-Aufruf haben.
Dies ist eine Umgehung für ein Problem in früheren Versionen von Node.js 6.x, in denen stderr und stdout auf OSX nicht blockiert werden konnten. (Sie blockieren immer Windows und wurden nie auf Linux blockiert.) `npmlog` erfordert, dass sie blockieren, damit die Ausgabe in stdout und stderr verknüpft werden kann.
